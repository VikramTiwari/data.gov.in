<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-ajax/core-ajax.html">

<polymer-element name="opendata-export-service" attributes="result">
    <template>
        <style>
        :host {
            display: none;
        }
        </style>
        <core-ajax id="ajax" auto url='/api/157024-export-principal-commodity.json' on-core-response="{{loaded}}" handleAs="json">
        </core-ajax>
    </template>
    <script>
    Polymer('opendata-export-service', {
        created: function() {
            this.result = [];
        },
        loaded: function() {
            // Make a copy of the loaded data
            this.result = this.$.ajax.response;
            console.log('result:', this.$.ajax.response);
        }
    });
    </script>
</polymer-element>
